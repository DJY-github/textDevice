#------------------------------------------------------------------------------#
# This makefile was generated by 'cbp2make' tool rev.147                       #
#------------------------------------------------------------------------------#


WORKDIR = `pwd`

CC0 = icc
CXX0 = icpc
AR0 = ar
LD0 = icpc

INC0 = 
CFLAGS0 = -Wall
RESINC0 = 
LIBDIR0 = 
LIB0 = 
LDFLAGS0 = 

CC1 = gcc
CXX1 = g++
AR1 = ar
LD1 = g++
WINDRES1 = windres

INC1 = 
CFLAGS1 = -Wall
RESINC1 = 
LIBDIR1 = 
LIB1 = 
LDFLAGS1 = 

INC_RELEASE = $(INC1) -I../../../../../xglib/include
CFLAGS_RELEASE = $(CFLAGS1) -shared -fPIC
RESINC_RELEASE = $(RESINC1)
RCFLAGS_RELEASE = $(RCFLAGS1)
LIBDIR_RELEASE = $(LIBDIR1)
LIB_RELEASE = $(LIB1)
LDFLAGS_RELEASE = $(LDFLAGS1)
OBJDIR_RELEASE = obj/Release
DEP_RELEASE = 
OUT_RELEASE = ../../../drivers/modbus_battery.so

OBJ_RELEASE = $(OBJDIR_RELEASE)/im_dm_devices_modbus.o $(OBJDIR_RELEASE)/modbus_packet.o

all: release

clean: clean_release

before_release: 
	test -d ../../../drivers || mkdir -p ../../../drivers
	test -d $(OBJDIR_RELEASE) || mkdir -p $(OBJDIR_RELEASE)

after_release: 

release: before_release out_release after_release

out_release: before_release $(OBJ_RELEASE) $(DEP_RELEASE)
	$(LD1) -shared $(LIBDIR_RELEASE) $(OBJ_RELEASE)  -o $(OUT_RELEASE) $(LDFLAGS_RELEASE) $(LIB_RELEASE)

$(OBJDIR_RELEASE)/im_dm_devices_modbus.o: im_dm_devices_modbus.cpp
	$(CXX1) $(CFLAGS_RELEASE) $(INC_RELEASE) -c im_dm_devices_modbus.cpp -o $(OBJDIR_RELEASE)/im_dm_devices_modbus.o

$(OBJDIR_RELEASE)/modbus_packet.o: modbus_packet.cpp
	$(CXX1) $(CFLAGS_RELEASE) $(INC_RELEASE) -c modbus_packet.cpp -o $(OBJDIR_RELEASE)/modbus_packet.o

clean_release: 
	rm -f $(OBJ_RELEASE) $(OUT_RELEASE)
	rm -rf ../../../drivers
	rm -rf $(OBJDIR_RELEASE)

.PHONY: before_release after_release clean_release

